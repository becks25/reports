<div class="panel-heading blue-header">
	<h3>Reports</h3>
</div>

<div>
	<button class="btn btn-default" ng-click="download_all()">Download Data</button>
</div>
<!--sidebar filter-->
<div class="panel-body">
	<div class="col-sm-2">
		<div class="filter-category" ng-click="mgmtCollapsed = !mgmtCollapsed">Managers</div>

		<!--managers filter-->
		<div>
			<div class="filter-options">
				<p ng-repeat="manager in managers">
					<input type="checkbox" value="manager._id" checked="manager.checked" ng-model="managers[$index].checked">
					 {{manager.name}}
				</p>
			</div>
		</div>

		<!--staff filter-->
		<div class="filter-category" ng-click="staffCollapsed = !staffCollapsed">Staff</div>

		<div >
			<div class="filter-options">
				<p ng-repeat="employee in staff">
					<input type="checkbox" value="employee._id" checked="employee.checked" ng-model="staff[$index].checked">
					 {{employee.name}}
				</p>
			</div>
		</div>

		<!--type filter-->
		<div class="filter-category">Report Type</div>

		<div>
			<div class="filter-options">
				<p ng-repeat="(key, value) in type">
					<input type="checkbox" value="key" checked="value" ng-model="type[key]">
					{{key}}
				</p>
			</div>
		</div>

		<!--infraction filter-->
		<div class="filter-category" ng-click="infractionCollapsed = !infractionCollapsed">Infraction</div>

		<div>
			<div class="filter-options">
				<p ng-repeat="inf in infractions">
					<input type="checkbox" value="inf.name" checked="inf.checked" ng-model="infractions[$index].checked">
					 {{inf.name}}
				</p>
			</div>
		</div>

		<!--positive filter-->
		<div class="filter-category" ng-click="positiveCollapsed = !positiveCollapsed">Positives</div>

		<div>
			<div class="filter-options">
				<p ng-repeat="pos in positives">
					<input type="checkbox" value="pos.name" checked="pos.checked" ng-model="positives[$index].checked">
					 {{pos.name}}
				</p>
			</div>
		</div>


		<!--incident filter-->
		<div class="filter-category" ng-click="incidentCollapsed = !incidentCollapsed">Cops Called</div>

		<div >
			<div class="filter-options">
				<p ng-repeat="(key, value) in cops">
					<input type="checkbox" value="key" checked="value" ng-model="cops[key]">
					{{key}}
				</p>
				
			</div>
		</div>


	</div>

	<div class="col-sm-10">
		<div class="col-sm-12">
			<div class="col-md-6">
	            <p class="input-group">
	              <input type="date" class="form-control" uib-datepicker-popup ng-model="dtstart" is-open="status.start" ng-required="true" close-text="Close" />
	              <span class="input-group-btn">
	                <button type="button" class="btn btn-default" ng-click="open($event, 'start')"><i class="glyphicon glyphicon-calendar"></i></button>
	              </span>
	            </p>
       		</div>

       		<div class="col-md-6">
	            <p class="input-group">
	              <input type="date" class="form-control" uib-datepicker-popup ng-model="dtend" is-open="status.end" ng-required="true" close-text="Close" />
	              <span class="input-group-btn">
	                <button type="button" class="btn btn-default" ng-click="open($event, 'end')"><i class="glyphicon glyphicon-calendar"></i></button>
	              </span>
	            </p>
       		</div>
	    </div>

		<report class="col-sm-4 col-xs-12" ng-repeat="report in reports | reportFilter: managers: staff: infractions: type: cops: dtstart : dtend: positives| orderBy: 'report.timestamp': true " report="report"></report>
	</div>

</div>